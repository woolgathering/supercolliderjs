# ServerPlus
Package: <a href="#/packages/server-plus/api">@supercollider/server-plus</a>

<div class="module"><span class="token keyword">module</span> ServerPlus<div class="module-child entity-box"><div class="Class"><h3 class="class-header" id="AudioBus"><span class="token keyword">class</span> <span class="class">AudioBus</span></h3><p class="short-text">scsynth audio bus</p><p class="">See `server.audioBus(...)`

These bus numbers (ids) and numChannels are allocated here in the client.
The server only gets bus ids for reading and writing to.
</p><div class="section-heading">Constructor</div><div class="class-member"><h4 id="constructor"><span class="token function">new AudioBus</span>(<span class="nowrap">server: <span class="type reference">ServerPlus</span></span>, <span class="nowrap">id: <span class="type token entity">number</span></span>, <span class="nowrap">numChannels: <span class="type token entity">number</span></span>): <span class="type reference">AudioBus</span></h4></div><div class="section-heading">Property</div><div class="class-member"><h4 id="id"><span class="token property">id</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="numChannels"><span class="token property">numChannels</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="server"><span class="token property">server</span> <span class="type reference">ServerPlus</span></h4></div><div class="section-heading">Method</div><div class="class-member"><h4 id="free"><span class="token function">free</span>(): <span class="type token entity">void</span></h4><p class="short-text">Deallocate the AudioBus, freeing it for resuse.</p></div></div></div><div class="module-child entity-box"><div class="Class"><h3 class="class-header" id="Buffer"><span class="token keyword">class</span> <span class="class">Buffer</span></h3><p class="short-text">scsynth Buffer</p><p class="">See `server.buffer(...)` and `server.readBuffer(...)`
</p><div class="section-heading">Constructor</div><div class="class-member"><h4 id="constructor"><span class="token function">new Buffer</span>(<span class="nowrap">server: <span class="type reference">ServerPlus</span></span>, <span class="nowrap">id: <span class="type token entity">number</span></span>, <span class="nowrap">numFrames: <span class="type token entity">number</span></span>, <span class="nowrap">numChannels: <span class="type token entity">number</span></span>): <span class="type reference">Buffer</span></h4></div><div class="section-heading">Property</div><div class="class-member"><h4 id="id"><span class="token property">id</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="numChannels"><span class="token property">numChannels</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="numFrames"><span class="token property">numFrames</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="server"><span class="token property">server</span> <span class="type reference">ServerPlus</span></h4></div><div class="section-heading">Method</div><div class="class-member"><h4 id="free"><span class="token function">free</span>(): <span class="type reference">Promise&lt;<span class="type token entity">void</span>&gt;</span></h4><p class="short-text">Deallocate the Buffer, freeing memory on the server.</p></div></div></div><div class="module-child entity-box"><div class="Class"><h3 class="class-header" id="ControlBus"><span class="token keyword">class</span> <span class="class">ControlBus</span></h3><span class="token keyword">extends</span> <span class="type reference">AudioBus</span><p class="short-text">scsynth control bus</p><p class="">See `server.controlBus(...)`

These bus numbers (ids) and numChannels are allocated here in the client.
The server only gets bus ids for reading and writing to.
</p><div class="section-heading">Constructor</div><div class="class-member"></div><div class="section-heading">Property</div><div class="class-member"><h4 id="id"><span class="token property">id</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="numChannels"><span class="token property">numChannels</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="server"><span class="token property">server</span> <span class="type reference">ServerPlus</span></h4></div><div class="section-heading">Method</div><div class="class-member"><h4 id="free"><span class="token function">free</span>(): <span class="type token entity">void</span></h4><p class="short-text">Deallocate the ControlBus, freeing it for resuse.</p></div></div></div><div class="module-child entity-box"><div class="Class"><h3 class="class-header" id="Group"><span class="token keyword">class</span> <span class="class">Group</span></h3><p class="short-text">scsynth Group</p><p class="">See `server.group(...)`
</p><div class="section-heading">Constructor</div><div class="class-member"><h4 id="constructor"><span class="token function">new Group</span>(<span class="nowrap">server: <span class="type reference">ServerPlus</span></span>, <span class="nowrap">id: <span class="type token entity">number</span></span>): <span class="type reference">Group</span></h4></div><div class="section-heading">Property</div><div class="class-member"><h4 id="id"><span class="token property">id</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="server"><span class="token property">server</span> <span class="type reference">ServerPlus</span></h4></div><div class="section-heading">Method</div><div class="class-member"><h4 id="free"><span class="token function">free</span>(): <span class="type reference">Promise&lt;<span class="type token entity">number</span>&gt;</span></h4><p class="short-text">Stop the Group and remove it from the play graph on the server.</p></div><div class="class-member"><h4 id="set"><span class="token function">set</span>(<span class="nowrap">settings: <span class="type reference">Params</span></span>): <span class="type token entity">void</span></h4><p class="short-text">Update control parameters on the Synth.</p></div></div></div><div class="module-child entity-box"><div class="Class"><h3 class="class-header" id="ServerPlus"><span class="token keyword">class</span> <span class="class">ServerPlus</span></h3><span class="token keyword">extends</span> <span class="type reference">Server</span><p class="short-text">This extends Server with convienient methods for creating Synth, Group, compiling SynthDefs, creating Buses, Buffers etc.</p><p class="">All methods return Promises, and all arguments accept Promises.
This means that async actions (like starting a sclang interpreter,
compiling SynthDefs and sending them to the server) are complete and their results
are ready to be used by whatever they have been supplied to.
</p><div class="section-heading">Constructor</div><div class="class-member"></div><div class="section-heading">Property</div><div class="class-member"></div><div class="class-member"><h4 id="address"><span class="token property">address</span> <span class="type token entity">string</span></h4></div><div class="class-member"><h4 id="isRunning"><span class="token property">isRunning</span> <span class="type token entity">boolean</span></h4></div><div class="class-member"><h4 id="log"><span class="token property">log</span> <span class="type reference">Logger</span></h4>
<p class="short-text">The logger used to print messages to the console.</p></div><div class="class-member"><h4 id="options"><span class="token property">options</span> <span class="type reference">ServerOptions</span></h4></div><div class="class-member"><h4 id="process"><span class="token property">process</span> <span class="type token entity">any</span></h4>
<p class="short-text">The process id that nodejs spawn() returns</p></div><div class="class-member"><h4 id="processEvents"><span class="token property">processEvents</span> <span class="type reference">Subject&lt;<span class="type "><span class="type token entity">string</span> | <span class="type reference">Error</span></span>&gt;</span></h4>
<p class="short-text">A subscribeable stream of events related to the scsynth process.
Used internally.</p></div><div class="class-member"><h4 id="receive"><span class="token property">receive</span> <span class="type reference">Subject&lt;<span class="type reference">MsgType</span>&gt;</span></h4>
<p class="short-text">A subscribeable stream of OSC events received.</p></div><div class="class-member"><h4 id="send"><span class="token property">send</span> <span class="type reference">SendOSC</span></h4>
<p class="short-text">Supports `server.send.msg()` and `server.send.bundle()`</p><p class="">You can also subscribe to it and get the OSC messages
and bundles that are being sent echoed to you for
debugging purposes.
</p></div><div class="class-member"><h4 id="state"><span class="token property">state</span> <span class="type reference">ServerState</span></h4>
<p class="short-text">Holds the mutable server state
including allocators and the node state watcher.
If a parent stateStore is supplied then it will store within that.</p></div><div class="class-member"><h4 id="stdout"><span class="token property">stdout</span> <span class="type reference">Subject&lt;<span class="type token entity">string</span>&gt;</span></h4>
<p class="short-text">A subscribeable stream of STDOUT printed by the scsynth process.</p></div><div class="class-member"><h4 id="defaultMaxListeners"><span class="token property">defaultMaxListeners</span> <span class="type token entity">number</span></h4></div><div class="section-heading">Accessor</div><div class="class-member"></div><div class="section-heading">Method</div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"><h4 id="audioBus"><span class="token function">audioBus</span>(<span class="nowrap">numChannels: <span class="type token entity">number</span> = 1</span>): <span class="type reference">AudioBus</span></h4><p class="short-text">Allocate an audio bus.</p></div><div class="class-member"></div><div class="class-member"><h4 id="buffer"><span class="token function">buffer</span>(<span class="nowrap">numFrames: <span class="type token entity">number</span></span>, <span class="nowrap">numChannels: <span class="type token entity">number</span> = 1</span>): <span class="type reference">Promise&lt;<span class="type reference">Buffer</span>&gt;</span></h4><p class="short-text">Allocate a Buffer on the server.</p></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"><h4 id="controlBus"><span class="token function">controlBus</span>(<span class="nowrap">numChannels: <span class="type token entity">number</span> = 1</span>): <span class="type reference">ControlBus</span></h4><p class="short-text">Allocate a control bus.</p></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"><h4 id="group"><span class="token function">group</span>(<span class="nowrap">group: <span class="type reference">Group</span></span>, <span class="nowrap">addAction: <span class="type token entity">number</span> =  msg.AddActions.TAIL</span>): <span class="type reference">Promise&lt;<span class="type reference">Group</span>&gt;</span></h4><p class="short-text">Create a Group on the server</p></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"><h4 id="loadSynthDef"><span class="token function">loadSynthDef</span>(<span class="nowrap">defName: <span class="type token entity">string</span></span>, <span class="nowrap">path: <span class="type token entity">string</span></span>): <span class="type reference">Promise&lt;<span class="type reference">SynthDef</span>&gt;</span></h4><p class="short-text">Load and compile a SynthDef from path and send it to the server.</p></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"><h4 id="readBuffer"><span class="token function">readBuffer</span>(<span class="nowrap">path: <span class="type token entity">string</span></span>, <span class="nowrap">numChannels: <span class="type token entity">number</span> = 2</span>, <span class="nowrap">startFrame: <span class="type token entity">number</span> = 0</span>, <span class="nowrap">numFramesToRead: <span class="type token entity">number</span> =  -1</span>): <span class="type reference">Promise&lt;<span class="type reference">Buffer</span>&gt;</span></h4><p class="short-text">Allocate a Buffer on the server and load a sound file into it.</p><p class="">Problem: scsynth uses however many channels there are in the sound file,
but the client (sclang or supercolliderjs) doesn't know how many there are.
</p></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"></div><div class="class-member"><h4 id="synth"><span class="token function">synth</span>(<span class="nowrap">synthDef: <span class="type reference">SynthDef</span></span>, <span class="nowrap">args: <span class="type reference">Params</span> =  {}</span>, <span class="nowrap">group: <span class="type reference">Group</span></span>, <span class="nowrap">addAction: <span class="type token entity">number</span> =  msg.AddActions.TAIL</span>): <span class="type reference">Promise&lt;<span class="type reference">Synth</span>&gt;</span></h4><p class="short-text">Create a Synth on the server</p></div><div class="class-member"><h4 id="synthDef"><span class="token function">synthDef</span>(<span class="nowrap">defName: <span class="type token entity">string</span></span>, <span class="nowrap">sourceCode: <span class="type token entity">string</span></span>): <span class="type reference">Promise&lt;<span class="type reference">SynthDef</span>&gt;</span></h4><p class="short-text">Compile a SynthDef from supercollider source code and send it to the server.</p></div><div class="class-member"><h4 id="synthDefs"><span class="token function">synthDefs</span>(<span class="nowrap">defs: <span class="type reference">SynthDefCompileRequest</span></span>): <span class="type reference">Promise&lt;<span class="type reference">SynthDef</span>&gt;</span></h4><p class="short-text">Compile multiple SynthDefs either from source or path.
If you have more than one to compile then always use this
as calling `server.synthDef` multiple times will start up
multiple supercollider interpreters. This is harmless, but
very inefficient.</p><div class="">Returns An object with the synthDef names as keys and Promises as values.
                   Each Promise will resolve with a SynthDef.
                   Each Promises can be supplied directly to `server.synth()`</div></div><div class="class-member"></div></div></div><div class="module-child entity-box"><div class="Class"><h3 class="class-header" id="Synth"><span class="token keyword">class</span> <span class="class">Synth</span></h3><span class="token keyword">extends</span> <span class="type reference">Group</span><p class="short-text">Created with `server.synth(...)`</p><p class="">Extends Group
</p><div class="section-heading">Constructor</div><div class="class-member"></div><div class="section-heading">Property</div><div class="class-member"><h4 id="id"><span class="token property">id</span> <span class="type token entity">number</span></h4></div><div class="class-member"><h4 id="server"><span class="token property">server</span> <span class="type reference">ServerPlus</span></h4></div><div class="section-heading">Method</div><div class="class-member"></div><div class="class-member"></div></div></div><div class="module-child entity-box"><div class="Class"><h3 class="class-header" id="SynthDef"><span class="token keyword">class</span> <span class="class">SynthDef</span></h3><p class="short-text">scsynth SynthDef</p><p class="">See `server.synthDefs(...)`

These are currently compiled using sclang,
and the synthDefResult holds metadata about the compiled
synthdef and the raw compiled bytes.

The SynthDef may have been compiled from a sourceCode string
or compiled from a file at path.
</p><div class="section-heading">Constructor</div><div class="class-member"><h4 id="constructor"><span class="token function">new SynthDef</span>(<span class="nowrap">server: <span class="type reference">ServerPlus</span></span>, <span class="nowrap">defName: <span class="type token entity">string</span></span>, <span class="nowrap">synthDefResult: <span class="type reference">SynthDefResultType</span></span>, <span class="nowrap">sourceCode: <span class="type "><span class="type token entity">undefined</span> | <span class="type token entity">string</span></span></span>, <span class="nowrap">path: <span class="type "><span class="type token entity">undefined</span> | <span class="type token entity">string</span></span></span>): <span class="type reference">SynthDef</span></h4></div><div class="section-heading">Property</div><div class="class-member"><h4 id="name"><span class="token property">name</span> <span class="type token entity">string</span></h4></div><div class="class-member"><h4 id="path"><span class="token property">path</span> <span class="type "><span class="type token entity">undefined</span> | <span class="type token entity">string</span></span></h4></div><div class="class-member"><h4 id="server"><span class="token property">server</span> <span class="type reference">ServerPlus</span></h4></div><div class="class-member"><h4 id="sourceCode"><span class="token property">sourceCode</span> <span class="type "><span class="type token entity">undefined</span> | <span class="type token entity">string</span></span></h4></div><div class="class-member"><h4 id="synthDefResult"><span class="token property">synthDefResult</span> <span class="type reference">SynthDefResultType</span></h4></div></div></div><div class="module-child entity-box"><h4 id="boot"><span class="token function">boot</span>(<span class="nowrap">options: <span class="type reference">ServerArgs</span></span>, <span class="nowrap">store: <span class="type reference">Store</span></span>): <span class="type reference">Promise&lt;<span class="type reference">ServerPlus</span>&gt;</span></h4><p class="short-text">Start the scsynth server with options:</p><p class="">```js
  let server = await sc.server.boot({device: 'Soundflower (2ch)'});
```
</p></div></div>
